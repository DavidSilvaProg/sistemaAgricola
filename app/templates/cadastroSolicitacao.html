{% extends "base.html" %}
{% block title %}Cadastrar de solicitação{% endblock %}
{% block content %}
<div class="max-w-2xl mx-auto p-4 bg-white rounded-lg shadow">
	<h2 class="text-2xl font-bold mb-4 text-gray-800">Cadastro de Solicitação de Compra</h2>

	<form id="requestForm" action="cadastrarSolicitacao" method="post" class="space-y-4">

		<div>
			<label for="requester" class="block text-sm font-medium text-gray-700 mb-1">Nome da Solicitação:</label>
			<input
				type="text"
				id="requester"
				name="nome"
				required
				class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
			>
		</div>

		<div>
			<label for="setor" class="block text-sm font-medium text-gray-700 mb-1">Setor:</label>
			<select
				id="setor"
				name="setor"
				class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
			>
				<option value="0"></option>
				{% for setor in setores %}
					<option value="{{ setor['id_setor'] }}">{{ setor['nome_setor'] }}</option>
				{% endfor %}
			</select>
		</div>

		<div id="inputsContainer" class="space-y-4">
            <div class="flex space-x-4">
                <div class="flex-1">
                    <label for="produto1" class="block text-sm font-medium text-gray-700 mb-1">Produto 1:</label>
                    <input
                        type="text"
                        id="produto1"
                        name="produto1"
                        required
                        class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                </div>
                <div class="w-28">
                    <label for="quantidade1" class="block text-sm font-medium text-gray-700 mb-1">Quantidade:</label>
                    <input
                        type="text"
                        id="quantidade1"
                        name="quantidade1"
                        required
                        min="1"
                        class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                </div>
            </div>
        </div>

		<div class="pt-2">
			<button
				type="button"
				onclick="adicionarInput()"
				class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition duration-300"
			>
				➕ Adicionar Produto
			</button>
		</div>

		<div>
			<label for="priority" class="block text-sm font-medium text-gray-700 mb-1">Nível de Prioridade:</label>
			<select
				id="priority"
				name="prioridade"
				required
				class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
			>
				<option value="Baixa">Baixa</option>
				<option value="Média">Média</option>
				<option value="Alta">Alta</option>
			</select>
		</div>

		<div class="pt-2">
			<button
				type="submit"
				class="w-full bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded transition duration-300"
			>
				Enviar Solicitação
			</button>
		</div>

	</form>
</div>

{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/cadastroSolicitacao.js') }}"></script>
{% endblock %}

